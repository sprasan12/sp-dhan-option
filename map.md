```mermaid
mindmap
  root((DhanOptionV2))
    ğŸ“ brokers
      ğŸ“„ __init__.py
      ğŸ“„ demo_broker.py
        ğŸ·ï¸ DemoBroker
          Æ’ get_security_id()
          Æ’ get_account_balance()
          Æ’ place_order()
          Æ’ modify_target()
          Æ’ cancel_order()
          Æ’ get_positions()
          Æ’ get_trade_history()
          Æ’ get_order_history()
          Æ’ get_account_summary()
          Æ’ print_account_summary()
      ğŸ“„ dhan_broker.py
        ğŸ·ï¸ DhanBroker
          Æ’ get_security_id()
          Æ’ get_account_balance()
          Æ’ place_order()
          Æ’ modify_target()
          Æ’ modify_stop_loss()
          Æ’ cancel_order()
          Æ’ cancel_target_leg()
          Æ’ cancel_stop_loss_leg()
          Æ’ cancel_entry_leg()
          Æ’ get_positions()
          Æ’ get_order_status()
          Æ’ print_account_summary()
    ğŸ“ demo
      ğŸ“„ __init__.py
      ğŸ“„ demo_data_client.py
        ğŸ·ï¸ DemoDataClient
          Æ’ connect()
          Æ’ start_simulation()
          Æ’ stop_simulation()
          Æ’ reset_simulation()
          Æ’ set_callback()
          Æ’ start_data_stream()
          Æ’ stop_data_stream()
          Æ’ get_current_price()
          Æ’ get_current_timestamp()
          Æ’ get_server_status()
          Æ’ get_streamed_candles()
      ğŸ“„ demo_server.py
        ğŸ·ï¸ DemoServer
          Æ’ setup_routes()
          Æ’ start_simulation()
          Æ’ stop_simulation()
          Æ’ reset_simulation()
          Æ’ set_simulation_time()
          Æ’ run()
          Æ’ get_current_price()
          Æ’ get_current_timestamp()
      ğŸ“„ multi_symbol_demo_client.py
        ğŸ·ï¸ MultiSymbolDemoClient
          Æ’ connect()
          Æ’ start_simulation()
          Æ’ stop_simulation()
          Æ’ reset_simulation()
          Æ’ set_callback()
          Æ’ start_data_stream()
          Æ’ stop_data_stream()
          Æ’ get_current_candles()
          Æ’ get_current_candle()
          Æ’ get_current_timestamp()
          Æ’ get_server_status()
      ğŸ“„ multi_symbol_demo_server.py
        ğŸ·ï¸ MultiSymbolDemoServer
          Æ’ setup_routes()
          Æ’ set_simulation_time()
          Æ’ run()
          Æ’ get_current_candles()
          Æ’ get_current_timestamp()
    ğŸ“ logs
    ğŸ“ models
      ğŸ“„ __init__.py
      ğŸ“„ candle.py
        ğŸ·ï¸ Candle
          Æ’ size()
          Æ’ body_size()
          Æ’ body_percentage()
          Æ’ is_bull_candle()
          Æ’ is_bear_candle()
          Æ’ is_neutral_candle()
    ğŸ“ position
      ğŸ“„ __init__.py
      ğŸ“„ position_manager.py
        ğŸ·ï¸ PositionManager
          Æ’ check_existing_orders()
          Æ’ validate_order_state()
          Æ’ cleanup_orphaned_orders()
          Æ’ enter_trade_with_trigger()
          Æ’ check_and_update_target()
          Æ’ update_trailing_stop()
          Æ’ handle_trade_exit()
          Æ’ close_position()
          Æ’ display_order_status()
          Æ’ periodic_order_validation()
    ğŸ“ strategies
      ğŸ“„ __init__.py
      ğŸ“„ candle_strategy.py
        ğŸ·ï¸ CandleStrategy
          Æ’ update_15min_candle()
          Æ’ update_15min_candle_from_1min()
          Æ’ update_5min_candle_from_1min()
          Æ’ update_1min_candle()
          Æ’ update_1min_candle_with_data()
          Æ’ get_candle_type()
          Æ’ classify_and_analyze_15min_candle()
          Æ’ check_sweep_conditions()
          Æ’ detect_1min_bullish_fvg()
          Æ’ detect_15min_bullish_fvg()
          Æ’ detect_cisd()
          Æ’ reset_sweep_detection()
          Æ’ update_session_high_low()
          Æ’ is_potential_swing_low()
          Æ’ is_days_low_sweep()
          Æ’ calculate_target_ratio()
          Æ’ get_strategy_status()
          Æ’ enter_trade()
          Æ’ exit_trade()
          Æ’ detect_swing_low()
          Æ’ update_swing_lows()
          Æ’ should_move_stop_loss()
          Æ’ should_move_stop_loss_continuously()
          Æ’ move_stop_loss_to_swing_low()
          Æ’ check_trade_exit()
          Æ’ set_initial_15min_candle()
          Æ’ should_move_target()
          Æ’ move_target_to_rr4()
          Æ’ remove_target_and_trail()
      ğŸ“„ erl_to_irl_strategy.py
        ğŸ·ï¸ ERLToIRLStrategy
          Æ’ set_callbacks()
          Æ’ initialize_with_historical_data()
          Æ’ update_price()
          Æ’ update_1m_candle()
          Æ’ update_5m_candle()
          Æ’ update_15m_candle()
          Æ’ update_price()
          Æ’ set_callbacks()
          Æ’ get_strategy_status()
      ğŸ“„ implied_fvg_detector.py
        ğŸ·ï¸ ImpliedFVGDetector
          Æ’ detect_bullish_implied_fvg()
          Æ’ detect_bearish_implied_fvg()
          Æ’ scan_candles_for_implied_fvgs()
          Æ’ find_nearest_implied_fvg()
      ğŸ“„ irl_to_erl_strategy.py
        ğŸ·ï¸ IRLToERLStrategy
          Æ’ set_callbacks()
          Æ’ initialize_with_historical_data()
          Æ’ update_1m_candle()
          Æ’ update_5m_candle()
          Æ’ update_15m_candle()
          Æ’ reset_sting_detection()
          Æ’ update_price()
          Æ’ get_strategy_status()
      ğŸ“„ liquidity_tracker.py
        ğŸ·ï¸ LiquidityZone
        ğŸ·ï¸ LiquidityTracker
          Æ’ add_historical_data()
          Æ’ find_nearest_bearish_target()
          Æ’ find_nearest_bullish_target()
          Æ’ check_and_mark_mitigation()
          Æ’ get_liquidity_summary()
          Æ’ get_bullish_fvgs()
          Æ’ get_bullish_ifvgs()
          Æ’ get_swing_highs()
          Æ’ process_candle()
      ğŸ“„ symbol_manager.py
        ğŸ·ï¸ SymbolManager
          Æ’ update_15min_candle()
          Æ’ update_1min_candle()
          Æ’ update_1min_candle_with_data()
          Æ’ check_sweep_conditions()
          Æ’ is_any_symbol_in_trade()
          Æ’ get_active_symbol()
          Æ’ get_strategy_status()
          Æ’ set_initial_15min_candle()
          Æ’ reset_sweep_detection()
          Æ’ get_all_pending_triggers()
          Æ’ select_best_trigger()
    ğŸ“ utils
      ğŸ“„ __init__.py
      ğŸ“„ account_manager.py
        ğŸ·ï¸ AccountManager
          Æ’ get_current_balance()
          Æ’ update_balance()
          Æ’ calculate_trade_parameters()
          Æ’ deduct_investment()
          Æ’ add_investment_return()
          Æ’ calculate_pnl()
          Æ’ log_trade_summary()
      ğŸ“„ config.py
        ğŸ·ï¸ TradingMode
        ğŸ·ï¸ StrategyMode
        ğŸ·ï¸ TradingConfig
          Æ’ is_live_mode()
          Æ’ is_demo_mode()
          Æ’ get_symbols()
          Æ’ is_dual_symbol_mode()
          Æ’ is_erl_to_irl_strategy()
          Æ’ is_irl_to_erl_strategy()
          Æ’ is_both_strategies()
          Æ’ get_demo_start_datetime()
          Æ’ get_num_hist_days()
          Æ’ get_fixed_sl_amount()
          Æ’ validate_config()
          Æ’ print_config()
      ğŸ“„ historical_data.py
        ğŸ·ï¸ HistoricalDataFetcher
          Æ’ get_security_id()
          Æ’ fetch_historical_data()
          Æ’ fetch_15min_candles()
          Æ’ fetch_1min_candles()
          Æ’ fetch_5min_candles()
          Æ’ fetch_10_days_historical_data()
      ğŸ“„ logger.py
        ğŸ·ï¸ TradingLogger
          Æ’ debug()
          Æ’ info()
          Æ’ warning()
          Æ’ error()
          Æ’ critical()
          Æ’ log_trade_entry()
          Æ’ log_trade_exit()
          Æ’ log_candle_data()
          Æ’ log_sweep_detection()
          Æ’ log_fvg_detection()
          Æ’ log_cisd_detection()
          Æ’ log_stop_loss_movement()
          Æ’ log_target_movement()
          Æ’ log_swing_low_detection()
          Æ’ log_strategy_status()
          Æ’ log_15min_candle_completion()
          Æ’ log_5min_candle_completion()
          Æ’ log_1min_candle_completion()
          Æ’ log_price_update()
          Æ’ log_error()
          Æ’ log_config()
      ğŸ“„ logger_wrapper.py
        ğŸ·ï¸ LoggerWrapper
          Æ’ debug()
          Æ’ info()
          Æ’ warning()
          Æ’ error()
          Æ’ critical()
          Æ’ log_trade_entry()
          Æ’ log_trade_exit()
          Æ’ log_fvg_detection()
          Æ’ log_sweep_detection()
          Æ’ log_price_update()
          Æ’ log_error()
          Æ’ log_candle_data()
          Æ’ log_15min_candle_completion()
          Æ’ log_5min_candle_completion()
          Æ’ log_1min_candle_completion()
          Æ’ log_cisd_detection()
          Æ’ log_stop_loss_movement()
          Æ’ log_target_movement()
          Æ’ log_swing_low_detection()
          Æ’ log_strategy_status()
          Æ’ log_config()
          Æ’ log_trade_entry()
      ğŸ“„ market_data.py
        ğŸ·ï¸ MarketDataWebSocket
          Æ’ on_message()
          Æ’ on_error()
          Æ’ on_close()
          Æ’ on_open()
          Æ’ connect()
          Æ’ close()
          Æ’ is_connected()
        Æ’ process_ticker_data()
        Æ’ process_quote_data()
        Æ’ process_market_depth()
      ğŸ“„ market_utils.py
        Æ’ is_market_hours()
        Æ’ is_trading_ending()
        Æ’ round_to_tick()
        Æ’ get_market_boundary_time()
      ğŸ“„ rate_limiter.py
        ğŸ·ï¸ RateLimiter
          Æ’ wait_if_needed()
        Æ’ rate_limit()
        Æ’ make_rate_limited_request()
        Æ’ add_delay_between_requests()
      ğŸ“„ symbol_logger.py
        ğŸ·ï¸ SymbolLogger
          Æ’ get_symbol_logger()
          Æ’ debug()
          Æ’ info()
          Æ’ warning()
          Æ’ error()
          Æ’ critical()
          Æ’ log_trade_entry()
          Æ’ log_trade_exit()
          Æ’ log_fvg_detection()
          Æ’ log_sweep_detection()
          Æ’ log_price_update()
          Æ’ log_error()
          Æ’ log_candle_data()
          Æ’ log_15min_candle_completion()
          Æ’ log_5min_candle_completion()
          Æ’ log_1min_candle_completion()
          Æ’ log_cisd_detection()
          Æ’ log_stop_loss_movement()
          Æ’ log_target_movement()
          Æ’ log_swing_low_detection()
          Æ’ log_strategy_status()
          Æ’ log_trade_entry()
          Æ’ log_config()
          Æ’ close_all_handlers()
      ğŸ“„ timezone_utils.py
        Æ’ normalize_timezone_awareness()
        Æ’ ensure_timezone_naive()
        Æ’ ensure_timezone_aware()
        Æ’ safe_datetime_compare()
        Æ’ safe_datetime_arithmetic()
    ğŸ“„ .env
    ğŸ“„ .gitignore
    ğŸ“„ code2mindmap.py
      ğŸ·ï¸ Node
        Æ’ add()
      Æ’ parse_python_symbols()
      Æ’ parse_js_ts_symbols()
      Æ’ parse_java_symbols()
      Æ’ dedupe_syms()
      Æ’ parse_symbols_for_file()
      Æ’ build_tree()
      Æ’ to_mermaid_mindmap()
      Æ’ to_freemind()
      Æ’ main()
    ğŸ“„ find_symbol.py
      Æ’ find_symbols()
    ğŸ“„ fix_demo_date.py
      Æ’ fix_demo_date()
    ğŸ“„ run_bot_debug.py
    ğŸ“„ trading_bot_dual_mode.py
      ğŸ·ï¸ DualModeTradingBot
        Æ’ load_instruments()
        Æ’ initialize_historical_data()
        Æ’ start_demo_server()
        Æ’ setup_live_websocket()
        Æ’ start_trading()
        Æ’ stop_trading()
        Æ’ run()
        Æ’ initialize_previous_15min_candle()
      Æ’ signal_handler()
    ğŸ“„ trading_bot_modular.py
      ğŸ·ï¸ DhanTradingBot
        Æ’ load_instruments()
        Æ’ get_security_id()
        Æ’ update_candle()
        Æ’ handle_market_data()
        Æ’ on_websocket_message()
        Æ’ on_websocket_error()
        Æ’ on_websocket_close()
        Æ’ connect_websocket()
        Æ’ check_market_end()
        Æ’ run_strategy()
        Æ’ display_strategy_status()
        Æ’ run()
      Æ’ main()
```
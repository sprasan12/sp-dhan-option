```mermaid
mindmap
  root((DhanOptionV2))
    📁 brokers
      📄 __init__.py
      📄 demo_broker.py
        🏷️ DemoBroker
          ƒ get_security_id()
          ƒ get_account_balance()
          ƒ place_order()
          ƒ modify_target()
          ƒ cancel_order()
          ƒ get_positions()
          ƒ get_trade_history()
          ƒ get_order_history()
          ƒ get_account_summary()
          ƒ print_account_summary()
      📄 dhan_broker.py
        🏷️ DhanBroker
          ƒ get_security_id()
          ƒ get_account_balance()
          ƒ place_order()
          ƒ modify_target()
          ƒ modify_stop_loss()
          ƒ cancel_order()
          ƒ cancel_target_leg()
          ƒ cancel_stop_loss_leg()
          ƒ cancel_entry_leg()
          ƒ get_positions()
          ƒ get_order_status()
          ƒ print_account_summary()
    📁 demo
      📄 __init__.py
      📄 demo_data_client.py
        🏷️ DemoDataClient
          ƒ connect()
          ƒ start_simulation()
          ƒ stop_simulation()
          ƒ reset_simulation()
          ƒ set_callback()
          ƒ start_data_stream()
          ƒ stop_data_stream()
          ƒ get_current_price()
          ƒ get_current_timestamp()
          ƒ get_server_status()
          ƒ get_streamed_candles()
      📄 demo_server.py
        🏷️ DemoServer
          ƒ setup_routes()
          ƒ start_simulation()
          ƒ stop_simulation()
          ƒ reset_simulation()
          ƒ set_simulation_time()
          ƒ run()
          ƒ get_current_price()
          ƒ get_current_timestamp()
      📄 multi_symbol_demo_client.py
        🏷️ MultiSymbolDemoClient
          ƒ connect()
          ƒ start_simulation()
          ƒ stop_simulation()
          ƒ reset_simulation()
          ƒ set_callback()
          ƒ start_data_stream()
          ƒ stop_data_stream()
          ƒ get_current_candles()
          ƒ get_current_candle()
          ƒ get_current_timestamp()
          ƒ get_server_status()
      📄 multi_symbol_demo_server.py
        🏷️ MultiSymbolDemoServer
          ƒ setup_routes()
          ƒ set_simulation_time()
          ƒ run()
          ƒ get_current_candles()
          ƒ get_current_timestamp()
    📁 logs
    📁 models
      📄 __init__.py
      📄 candle.py
        🏷️ Candle
          ƒ size()
          ƒ body_size()
          ƒ body_percentage()
          ƒ is_bull_candle()
          ƒ is_bear_candle()
          ƒ is_neutral_candle()
    📁 position
      📄 __init__.py
      📄 position_manager.py
        🏷️ PositionManager
          ƒ check_existing_orders()
          ƒ validate_order_state()
          ƒ cleanup_orphaned_orders()
          ƒ enter_trade_with_trigger()
          ƒ check_and_update_target()
          ƒ update_trailing_stop()
          ƒ handle_trade_exit()
          ƒ close_position()
          ƒ display_order_status()
          ƒ periodic_order_validation()
    📁 strategies
      📄 __init__.py
      📄 candle_strategy.py
        🏷️ CandleStrategy
          ƒ update_15min_candle()
          ƒ update_15min_candle_from_1min()
          ƒ update_5min_candle_from_1min()
          ƒ update_1min_candle()
          ƒ update_1min_candle_with_data()
          ƒ get_candle_type()
          ƒ classify_and_analyze_15min_candle()
          ƒ check_sweep_conditions()
          ƒ detect_1min_bullish_fvg()
          ƒ detect_15min_bullish_fvg()
          ƒ detect_cisd()
          ƒ reset_sweep_detection()
          ƒ update_session_high_low()
          ƒ is_potential_swing_low()
          ƒ is_days_low_sweep()
          ƒ calculate_target_ratio()
          ƒ get_strategy_status()
          ƒ enter_trade()
          ƒ exit_trade()
          ƒ detect_swing_low()
          ƒ update_swing_lows()
          ƒ should_move_stop_loss()
          ƒ should_move_stop_loss_continuously()
          ƒ move_stop_loss_to_swing_low()
          ƒ check_trade_exit()
          ƒ set_initial_15min_candle()
          ƒ should_move_target()
          ƒ move_target_to_rr4()
          ƒ remove_target_and_trail()
      📄 erl_to_irl_strategy.py
        🏷️ ERLToIRLStrategy
          ƒ set_callbacks()
          ƒ initialize_with_historical_data()
          ƒ update_price()
          ƒ update_1m_candle()
          ƒ update_5m_candle()
          ƒ update_15m_candle()
          ƒ update_price()
          ƒ set_callbacks()
          ƒ get_strategy_status()
      📄 implied_fvg_detector.py
        🏷️ ImpliedFVGDetector
          ƒ detect_bullish_implied_fvg()
          ƒ detect_bearish_implied_fvg()
          ƒ scan_candles_for_implied_fvgs()
          ƒ find_nearest_implied_fvg()
      📄 irl_to_erl_strategy.py
        🏷️ IRLToERLStrategy
          ƒ set_callbacks()
          ƒ initialize_with_historical_data()
          ƒ update_1m_candle()
          ƒ update_5m_candle()
          ƒ update_15m_candle()
          ƒ reset_sting_detection()
          ƒ update_price()
          ƒ get_strategy_status()
      📄 liquidity_tracker.py
        🏷️ LiquidityZone
        🏷️ LiquidityTracker
          ƒ add_historical_data()
          ƒ find_nearest_bearish_target()
          ƒ find_nearest_bullish_target()
          ƒ check_and_mark_mitigation()
          ƒ get_liquidity_summary()
          ƒ get_bullish_fvgs()
          ƒ get_bullish_ifvgs()
          ƒ get_swing_highs()
          ƒ process_candle()
      📄 symbol_manager.py
        🏷️ SymbolManager
          ƒ update_15min_candle()
          ƒ update_1min_candle()
          ƒ update_1min_candle_with_data()
          ƒ check_sweep_conditions()
          ƒ is_any_symbol_in_trade()
          ƒ get_active_symbol()
          ƒ get_strategy_status()
          ƒ set_initial_15min_candle()
          ƒ reset_sweep_detection()
          ƒ get_all_pending_triggers()
          ƒ select_best_trigger()
    📁 utils
      📄 __init__.py
      📄 account_manager.py
        🏷️ AccountManager
          ƒ get_current_balance()
          ƒ update_balance()
          ƒ calculate_trade_parameters()
          ƒ deduct_investment()
          ƒ add_investment_return()
          ƒ calculate_pnl()
          ƒ log_trade_summary()
      📄 config.py
        🏷️ TradingMode
        🏷️ StrategyMode
        🏷️ TradingConfig
          ƒ is_live_mode()
          ƒ is_demo_mode()
          ƒ get_symbols()
          ƒ is_dual_symbol_mode()
          ƒ is_erl_to_irl_strategy()
          ƒ is_irl_to_erl_strategy()
          ƒ is_both_strategies()
          ƒ get_demo_start_datetime()
          ƒ get_num_hist_days()
          ƒ get_fixed_sl_amount()
          ƒ validate_config()
          ƒ print_config()
      📄 historical_data.py
        🏷️ HistoricalDataFetcher
          ƒ get_security_id()
          ƒ fetch_historical_data()
          ƒ fetch_15min_candles()
          ƒ fetch_1min_candles()
          ƒ fetch_5min_candles()
          ƒ fetch_10_days_historical_data()
      📄 logger.py
        🏷️ TradingLogger
          ƒ debug()
          ƒ info()
          ƒ warning()
          ƒ error()
          ƒ critical()
          ƒ log_trade_entry()
          ƒ log_trade_exit()
          ƒ log_candle_data()
          ƒ log_sweep_detection()
          ƒ log_fvg_detection()
          ƒ log_cisd_detection()
          ƒ log_stop_loss_movement()
          ƒ log_target_movement()
          ƒ log_swing_low_detection()
          ƒ log_strategy_status()
          ƒ log_15min_candle_completion()
          ƒ log_5min_candle_completion()
          ƒ log_1min_candle_completion()
          ƒ log_price_update()
          ƒ log_error()
          ƒ log_config()
      📄 logger_wrapper.py
        🏷️ LoggerWrapper
          ƒ debug()
          ƒ info()
          ƒ warning()
          ƒ error()
          ƒ critical()
          ƒ log_trade_entry()
          ƒ log_trade_exit()
          ƒ log_fvg_detection()
          ƒ log_sweep_detection()
          ƒ log_price_update()
          ƒ log_error()
          ƒ log_candle_data()
          ƒ log_15min_candle_completion()
          ƒ log_5min_candle_completion()
          ƒ log_1min_candle_completion()
          ƒ log_cisd_detection()
          ƒ log_stop_loss_movement()
          ƒ log_target_movement()
          ƒ log_swing_low_detection()
          ƒ log_strategy_status()
          ƒ log_config()
          ƒ log_trade_entry()
      📄 market_data.py
        🏷️ MarketDataWebSocket
          ƒ on_message()
          ƒ on_error()
          ƒ on_close()
          ƒ on_open()
          ƒ connect()
          ƒ close()
          ƒ is_connected()
        ƒ process_ticker_data()
        ƒ process_quote_data()
        ƒ process_market_depth()
      📄 market_utils.py
        ƒ is_market_hours()
        ƒ is_trading_ending()
        ƒ round_to_tick()
        ƒ get_market_boundary_time()
      📄 rate_limiter.py
        🏷️ RateLimiter
          ƒ wait_if_needed()
        ƒ rate_limit()
        ƒ make_rate_limited_request()
        ƒ add_delay_between_requests()
      📄 symbol_logger.py
        🏷️ SymbolLogger
          ƒ get_symbol_logger()
          ƒ debug()
          ƒ info()
          ƒ warning()
          ƒ error()
          ƒ critical()
          ƒ log_trade_entry()
          ƒ log_trade_exit()
          ƒ log_fvg_detection()
          ƒ log_sweep_detection()
          ƒ log_price_update()
          ƒ log_error()
          ƒ log_candle_data()
          ƒ log_15min_candle_completion()
          ƒ log_5min_candle_completion()
          ƒ log_1min_candle_completion()
          ƒ log_cisd_detection()
          ƒ log_stop_loss_movement()
          ƒ log_target_movement()
          ƒ log_swing_low_detection()
          ƒ log_strategy_status()
          ƒ log_trade_entry()
          ƒ log_config()
          ƒ close_all_handlers()
      📄 timezone_utils.py
        ƒ normalize_timezone_awareness()
        ƒ ensure_timezone_naive()
        ƒ ensure_timezone_aware()
        ƒ safe_datetime_compare()
        ƒ safe_datetime_arithmetic()
    📄 .env
    📄 .gitignore
    📄 code2mindmap.py
      🏷️ Node
        ƒ add()
      ƒ parse_python_symbols()
      ƒ parse_js_ts_symbols()
      ƒ parse_java_symbols()
      ƒ dedupe_syms()
      ƒ parse_symbols_for_file()
      ƒ build_tree()
      ƒ to_mermaid_mindmap()
      ƒ to_freemind()
      ƒ main()
    📄 find_symbol.py
      ƒ find_symbols()
    📄 fix_demo_date.py
      ƒ fix_demo_date()
    📄 run_bot_debug.py
    📄 trading_bot_dual_mode.py
      🏷️ DualModeTradingBot
        ƒ load_instruments()
        ƒ initialize_historical_data()
        ƒ start_demo_server()
        ƒ setup_live_websocket()
        ƒ start_trading()
        ƒ stop_trading()
        ƒ run()
        ƒ initialize_previous_15min_candle()
      ƒ signal_handler()
    📄 trading_bot_modular.py
      🏷️ DhanTradingBot
        ƒ load_instruments()
        ƒ get_security_id()
        ƒ update_candle()
        ƒ handle_market_data()
        ƒ on_websocket_message()
        ƒ on_websocket_error()
        ƒ on_websocket_close()
        ƒ connect_websocket()
        ƒ check_market_end()
        ƒ run_strategy()
        ƒ display_strategy_status()
        ƒ run()
      ƒ main()
```